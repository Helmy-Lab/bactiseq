---
layout: default
title: BactiSeq Output
nav_order: 5
---

# Bactiseq Output

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

## Introduction

This document describes the output produced by the pipeline. Output includes csv, html, and pngs/svgs/jpeg files.

### Output directory organization
Upon successful completion of the pipeline, the resutls will be stored, per sample, within the output directory set by --outputdir
**Output directory structure for one sample (polish enabled and performed)**

```
customVisualizations
├── heatmaps/bar graphs/pie charts/.csv's of the data
NANOPORE08720179/
├── Annotation/
│   ├── AbricateVFDB/          # *.txt
│   ├── AmrfinderPlus/         # *.tsv
│   ├── Bakta/                 # *.embl, *.faa
│   ├── MLST/                  # *.tsv
│   ├── Mobsuite/              # *.fasta, *.txt
│   ├── Prokka/                # *.faa, *.gbk
│   └── RGI/                   # *.json, *.txt
├── Assembly/
│   └── FLYE/                  # *.fasta.gz, *.gfa.gz
├── AssemblyQA/
│   ├── Busco/                 # *.json, *.txt
│   ├── Checkm2/               # *.tsv
│   └── quast/                 # *.html, *.pdf
├── filteredreadQA/
│   ├── fastqc/                # *.html, *.zip
│   ├── nanoplot/              # *.html, *.png
│   └── seqkit/                # *.tsv
├── polished/
│   └── nextpolish/            # *.fasta, *.stat
├── readQA/
│   ├── fastqc/                # *.html, *.zip
│   ├── nanoplot/              # *.html, *.png
│   └── seqkit_stats/          # *.tsv
├── readQC/
│   ├── chopper/               # *.fastq.gz
│   └── porechop/              # *.fastq.gz, *.log
├── taxonomy/
│   ├── gambit/                # *.csv
│   └── kraken2/               # *.txt, *.fastq.gz
└── visualizations/
    ├── bandage/               # *.png, *.svg
    ├── cgview/                # *.svg
    └── tinycov/               # *.png
```

Custom visualizations are stored at the same level as per-sample directories. These custom visualizations are cross-sample comparisons between all samples. Custom visualizations also come with a csv containing all the same data for further analysis and flexibility in creating visualizations for the user. 

### Visual outputs of the pipeline: Visualization Module
This pipeline generates multiple visual outputs to support analysis and quality control of genomic, assembly, and coverage data. Visualizations are produced using both custom Python scripts and pre‑existing bioinformatics tools. Our custom Python-based visualizations focus on cross-sample comparative analysis, enabling multi-sample insights that pre-made tools cannot easily provide. The pipeline generates eight complementary cross-sample visualizations:

<img alt="image" src="https://raw.githubusercontent.com/Sylvial-00/bactiseq/refs/heads/dev/docs/images/customVisuals.png" />

**(A) Plasmid Distribution** - Bar graph showing plasmids per sample, colored by plasmid type with plasmid length on y-axis

**(B) AMR Gene Counts** - Interactive bar graph of antimicrobial resistance genes detected per sample (hover reveals gene lists)

**(C) Sequencing Quality Overview** - Bar graph showing average nucleotide quality and read count per sample

**(D) MLST Distribution** - Pie chart displaying sequence type frequencies across the sample set

**(E) RGI AMR Presence Matrix** - Binary heatmap showing presence/absence of AMR genes detected by RGI

**(F) AMRFinderPlus AMR Presence Matrix** - Binary heatmap showing presence/absence of AMR genes detected by AMRFinderPlus

**(G) Virulence Factor Matrix** - Binary heatmap showing presence/absence of virulence genes

**(H) Gene Similarity Clustering** - Heatmap showing gene content similarity between all samples

The visualizatoin module also incorporates pre-made tools to generate visualizations. These tools, CGview, Tinycov, and Bandage are wrapped within our pipeline.

<img alt="image" src="https://raw.githubusercontent.com/Sylvial-00/bactiseq/refs/heads/dev/docs/images/visualizations.png" />

**(A) Circular Genome Maps: CGview** - Annotated circular genome visualization created by CGview with gene labels enabled, saved as zoomable SVG files

**(B) Coverage Plots: Tinycov** - Coverage visualization of BAM files using Tinycov, showing average coverage and window distribution for each reference sequence

**(C) Assembly Graphs Bandage** - De novo assembly graph visualization created by SPAdes and rendered with Bandage, depicting contig connectivity and assembly structure

### Pipeline information

<details markdown="1">
<summary>Output files</summary>

- `pipeline_info/`
  - Reports generated by Nextflow: `execution_report.html`, `execution_timeline.html`, `execution_trace.txt` and `pipeline_dag.dot`/`pipeline_dag.svg`.
  - Reports generated by the pipeline: `pipeline_report.html`, `pipeline_report.txt` and `software_versions.yml`. The `pipeline_report*` files will only be present if the `--email` / `--email_on_fail` parameter's are used when running the pipeline.
  - Reformatted samplesheet files used as input to the pipeline: `samplesheet.valid.csv`.
  - Parameters used by the pipeline run: `params.json`.

</details>

[Nextflow](https://www.nextflow.io/docs/latest/tracing.html) provides excellent functionality for generating various reports relevant to the running and execution of the pipeline. This will allow you to troubleshoot errors with the running of the pipeline, and also provide you with other information such as launch commands, run times and resource usage.
